import{j as e}from"./query-PEscxNU0.js";import{C as r,a as n,b as d,d as l}from"./card-DFHkfYaO.js";import{c as p,B as x}from"./index-Hjcwu6Yr.js";import{h as N,b as a,f,S as t}from"./skeleton-CLlIIbSV.js";import{R as g}from"./RetentionGauge-S4Us0Xy2.js";import{l as b,k as v,j as w}from"./vendor-rrO37E5y.js";import"./firebase-Cbh-IGzk.js";import"./charts-mYDaWYVf.js";import"./functions-B1hT3L6U.js";const C=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],h=p("arrow-left",C);function E(){const{campusKey:c}=b(),{selectedYear:i}=v(),m=w(),{data:o,isLoading:j,error:u}=N(i,c||"");if(j)return e.jsx(S,{});if(u||!o?.campus)return e.jsxs("div",{className:"space-y-4",children:[e.jsxs(x,{variant:"ghost",onClick:()=>m("/dashboard/campuses"),children:[e.jsx(h,{className:"mr-2 h-4 w-4"}),"Back to Campuses"]}),e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("p",{className:"text-muted-foreground",children:"Campus data not available"})})]});const{campus:s}=o;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(x,{variant:"ghost",size:"icon",onClick:()=>m("/dashboard/campuses"),children:e.jsx(h,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:s.campusName}),e.jsxs("p",{className:"text-muted-foreground",children:["MC Leader: ",s.mcLeader," Â· ",i]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(r,{children:[e.jsx(n,{className:"pb-2",children:e.jsx(d,{className:"text-sm font-medium text-muted-foreground",children:"Total Enrollment"})}),e.jsx(l,{children:e.jsx("p",{className:"text-2xl font-bold",children:a(s.totalEnrollment)})})]}),e.jsxs(r,{children:[e.jsx(n,{className:"pb-2",children:e.jsx(d,{className:"text-sm font-medium text-muted-foreground",children:"Returning Students"})}),e.jsx(l,{children:e.jsx("p",{className:"text-2xl font-bold",children:a(s.returningStudents)})})]}),e.jsxs(r,{children:[e.jsx(n,{className:"pb-2",children:e.jsx(d,{className:"text-sm font-medium text-muted-foreground",children:"New Students"})}),e.jsx(l,{children:e.jsx("p",{className:"text-2xl font-bold",children:a(s.newStudents)})})]}),e.jsxs(r,{children:[e.jsx(n,{className:"pb-2",children:e.jsx(d,{className:"text-sm font-medium text-muted-foreground",children:"Attendance Rate"})}),e.jsx(l,{children:e.jsx("p",{className:"text-2xl font-bold",children:f(s.attendanceRate)})})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsx(g,{rate:s.retentionRate,returningStudents:s.returningStudents,eligibleStudents:s.returningStudents+s.nonStarters+s.midYearWithdrawals}),e.jsxs(r,{children:[e.jsx(n,{children:e.jsx(d,{children:"Attrition Breakdown"})}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"Non-Starters"}),e.jsx("span",{className:"font-medium",children:a(s.nonStarters)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"Mid-Year Withdrawals"}),e.jsx("span",{className:"font-medium",children:a(s.midYearWithdrawals)})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[e.jsx("span",{className:"font-medium",children:"Total Attrition"}),e.jsx("span",{className:"font-bold",children:a(s.nonStarters+s.midYearWithdrawals)})]})]})]})]})]})}function S(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(t,{className:"h-10 w-10"}),e.jsxs("div",{children:[e.jsx(t,{className:"h-9 w-64"}),e.jsx(t,{className:"h-5 w-48 mt-2"})]})]}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((c,i)=>e.jsx(t,{className:"h-24"},i))}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsx(t,{className:"h-64"}),e.jsx(t,{className:"h-64"})]})]})}export{E as CampusDetailPage};
